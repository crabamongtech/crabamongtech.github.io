<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Current Projects - Crabs Tech</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="centered" id="content">
&gt; <a href="/">BACK</a>

CURRENT WIP GAMES
================

<div class="project" data-id="duality">
DUALITY
<span class="tagline">Welcome to Greentown.</span>
</div>

----------------------------

<div class="project" data-id="healer">
WILL OF THE HEALER
<span class="tagline">The sly
blinds the weak</span>
</div>

----------------------------
  </div>

  <script>
    const content = document.getElementById("content");

    const pages = {
      duality: `&gt; <a href="#" onclick="goBack()">BACK</a>

DUALITY
=======

Welcome to Greentown.

<img src="duality.png" alt="Duality Screenshot">

----------------------------`,
      healer: `&gt; <a href="#" onclick="goBack()">BACK</a>

WILL OF THE HEALER
==================

The sly
blinds the weak

<img src="healer.png" alt="Will of the Healer Screenshot">

----------------------------`
    };

    function goBack() {
      history.back();
    }

    function load(project, push = true) {
      content.innerHTML = pages[project];
      if (push) history.pushState({ id: project }, "", "#" + project);
    }

    document.querySelectorAll(".project").forEach(el => {
      el.style.cursor = "pointer";
      el.onclick = () => load(el.dataset.id);
    });

    window.onpopstate = (e) => {
      if (e.state && e.state.id) {
        load(e.state.id, false);
      } else {
        location.reload(); // fallback
      }
    };

    if (location.hash) {
      const id = location.hash.slice(1);
      if (pages[id]) {
        load(id, false);
      }
    }
  </script>
</body>
</html>